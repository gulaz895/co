local Players = game:GetService("Players")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local clone = nil -- เก็บโคลนที่สร้าง

-- สร้าง GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = player:WaitForChild("PlayerGui")

-- ปุ่มโคลน
local cloneButton = Instance.new("TextButton")
cloneButton.Size = UDim2.new(0, 150, 0, 50)
cloneButton.Position = UDim2.new(0, 50, 0, 50)
cloneButton.Text = "Clone Me"
cloneButton.Parent = screenGui

-- ปุ่มสลับตัว
local swapButton = Instance.new("TextButton")
swapButton.Size = UDim2.new(0, 150, 0, 50)
swapButton.Position = UDim2.new(0, 50, 0, 120)
swapButton.Text = "Swap With Clone"
swapButton.Parent = screenGui

-- ฟังก์ชันโคลน
cloneButton.MouseButton1Click:Connect(function()
    if char and hrp then
        if clone then
            clone:Destroy()
        end
        clone = char:Clone()
        clone.Parent = workspace
        -- วาง clone ข้างหน้า 3 สตั้ด
        clone:SetPrimaryPartCFrame(hrp.CFrame * CFrame.new(0,0,-3))
    end
end)

-- ฟังก์ชันสลับตัว
swapButton.MouseButton1Click:Connect(function()
    if clone and clone.PrimaryPart then
        -- เก็บตำแหน่ง clone
        local cloneCFrame = clone.PrimaryPart.CFrame
        -- ย้ายตัวเองไปตำแหน่ง clone
        hrp.CFrame = cloneCFrame
        -- ลบ clone
        clone:Destroy()
        clone = nil
    end
end)
